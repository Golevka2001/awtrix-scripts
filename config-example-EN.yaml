# Rename to `config.yaml`` and modify the following content

# MQTT Configuration
mqtt:
  host: "<<<<< REPLACE_WITH_YOUR_MQTT_HOST >>>>>"
  port: 1883
  topic_prefix: "awtrix_8b9a64/custom/" # Do not change `custom`, keep the prefix consistent with AWTRIX
  # If your MQTT server does not require authentication, you can leave the following two lines empty or delete them
  username: "<<<<< REPLACE_WITH_YOUR_MQTT_USERNAME >>>>>"
  password: "<<<<< REPLACE_WITH_YOUR_MQTT_PASSWORD >>>>>"

# App Configuration
app:
  allowed_hours: # Running time periods (24-hour format)
    - [0, 1]
    - [8, 24]
  main_loop_interval: 20 # Main loop interval (seconds), how often to send data to AWTRIX, independent of task update interval
  task_timeout: 5 # Task timeout (seconds), if a task does not return a result within this time, the last result will be sent
  send_interval: 0.5 # Send interval (seconds), interval between sending each task result to AWTRIX, can help avoid order confusion
  behavior_on_failure: 2 # Behavior on task failure, 0=delete app, 1=use last result, 2=show Error
  store_dir: "data" # Local storage directory for caching task data

# Task Configuration
# - enabled: Whether to enable the task
# - priority: Priority (lower value means higher priority)
# - interval: Data update interval (seconds)
tasks:
  year_progress:
    enabled: true
    priority: 0
    interval: 3600 # 1 hour

  air_quality:
    enabled: true
    priority: 10
    interval: 1200 # 20 minutes
    api_key: "<<<<< REPLACE_WITH_YOUR_API_KEY >>>>>" # Tianapi API Key, https://www.tianapi.com/console/
    area: "Beijing" # City/area name, do not include "City"

  bilibili_followers:
    enabled: true
    priority: 20
    interval: 3600 # 1 hour
    uid: "<<<<< REPLACE_WITH_YOUR_UID >>>>>" # https://space.bilibili.com/xxx, use the xxx part

  github_followers:
    enabled: true
    priority: 30
    interval: 3600 # 1 hour
    # It is recommended to use a GitHub Personal Access Token to avoid rate limits, in this case do not use username
    # If token is not set, username will be used to get public info
    token: "<<<<< REPLACE_WITH_YOUR_GITHUB_PERSONAL_ACCESS_TOKEN >>>>>" # GitHub Personal Access Token, https://github.com/settings/personal-access-tokens
    username: "<<<<< REPLACE_WITH_YOUR_GITHUB_USERNAME >>>>>"
    draw_avatar: false # Whether to use avatar thumbnail as icon

  gas_price:
    enabled: true
    priority: 40
    interval: 1200 # 20 minutes
    api_key: "<<<<< REPLACE_WITH_YOUR_API_KEY >>>>>" # Tianapi API Key, https://www.tianapi.com/console/
    province: "Beijing" # Province, do not include "Province"
    display_type: "92" # Type of fuel to display: 0(#0 Diesel), 89(#89 Gasoline), 92(#92 Gasoline), 95(#95 Gasoline), 98(#98 Gasoline)

  minecraft_server_status:
    enabled: true
    priority: 50
    interval: 300 # 5 minutes
    server_addr: "<<<<< REPLACE_WITH_YOUR_MINECRAFT_SERVER_ADDRESS >>>>>" # Minecraft server address
    java_edition: true # true=Java Edition, false=Bedrock Edition

  spotify_current_playback:
    enabled: true
    priority: 60
    interval: 10 # 10 seconds
    # Visit https://developer.spotify.com/dashboard, create an app, set Redirect URI, check Web API. Then get Client ID and Client Secret
    client_id: "<<<<< REPLACE_WITH_YOUR_CLIENT_ID >>>>>"
    client_secret: "<<<<< REPLACE_WITH_YOUR_CLIENT_SECRET >>>>>"
    redirect_uri: "http://127.0.0.1:1234" # Must match the Spotify app settings
    auth_cache_file: "spotify_cache.json" # Changing this may require re-authorization
    show_artist: false # Whether to show artist name
    track_name_first: true # true=Track - Artist, false=Artist - Track (only works if show_artist is true)
    cjk_to_initials: true # Whether to convert Chinese/Japanese/Korean characters to pinyin initials, otherwise show as blank
    draw_album_art: false # Whether to use album cover thumbnail as icon
